let t,i,e,h;function s(t,i){return t>i&&([t,i]=[i,t]),Math.random()*(i-t)+t}function n(t,i,e){return Math.max(Math.min(t,e),i)}class a{constructor(i,e,n,a,d){this.alpha=0,this.fadeSpeed=s(1e-5,.01),this.fadeDirection=1,this.fading=!0,this.manager=i,this.x=e||s(0,t.width),this.y=n||s(0,t.height),this.radius=a||s(10,500),this.color=d||this.generateGray(),this.speed=this.calcSpeed(),this.radius*=h,this.speed*=h}calcSpeed(){return-((this.radius-10)/490*1.9)+2}generateGray(t=s(180,255)){return`rgb(${t}, ${t}, ${t})`}draw(){i.beginPath(),i.arc(this.x,this.y,this.radius,0,2*Math.PI),i.closePath(),i.fillStyle=this.color,i.globalAlpha=n(this.alpha,0,1),i.fill()}delete(){this.fadeDirection=-1,this.alpha<=0&&this.manager.deleteDot(this)}run(){this.fading&&(this.alpha+=this.fadeSpeed*this.fadeDirection,(this.alpha<=-.5||this.alpha>=1.5)&&(this.fadeDirection*=-1)),(this.x<0||this.y>t.height)&&this.delete(),this.x-=this.speed,this.y+=this.speed,this.draw()}}class d{constructor(t){this.dots=new Set,this.numWanted=t,this.initDots()}initDots(){for(let t=0;t<this.numWanted;t++){let t=new a(this);this.dots.add(t)}}restart(){this.dots.clear(),i.clearRect(0,0,t.width,t.height),this.initDots()}deleteDot(t){this.dots.delete(t);let i=new a(this);this.dots.add(i)}run(){for(let t of this.dots)t.run()}}function r(){return n(window.innerWidth/2e3,.1,1)}window.onload=function(){i=(t=document.getElementById("dotsCanvas")).getContext("2d"),h=r();let s=window.innerHeight;t.width=window.innerWidth,t.height=window.innerHeight,e=new d(200),window.addEventListener("resize",function(){let i=window.innerHeight;Math.abs(i-s)>=200&&(h=r(),t.width=window.innerWidth,t.height=window.innerHeight,e.restart()),s=i}),function h(){i.clearRect(0,0,t.width,t.height),e.run(),requestAnimationFrame(h)}()};
//# sourceMappingURL=index.4a1b8808.js.map
