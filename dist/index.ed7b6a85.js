let t,i,e;function s(t,i){return t>i&&([t,i]=[i,t]),Math.random()*(i-t)+t}function h(t,i,e){return Math.max(Math.min(t,e),i)}class a{constructor(i,h,a,n,d){this.alpha=0,this.fadeSpeed=s(1e-5,.01),this.fadeDirection=1,this.fading=!0,this.manager=i,this.x=h||s(0,t.width),this.y=a||s(0,t.height),this.radius=n||s(10,500),this.color=d||this.generateGray(),this.speed=this.calcSpeed(),this.radius*=e,this.speed*=e}calcSpeed(){return-((this.radius-10)/490*1.9)+2}generateGray(t=s(90,255)){return`rgb(${t}, ${t}, ${t})`}draw(){i.beginPath(),i.arc(this.x,this.y,this.radius,0,2*Math.PI),i.closePath(),i.fillStyle=this.color,i.globalAlpha=h(this.alpha,0,1),i.fill()}delete(){this.fadeDirection=-1,this.alpha<=0&&this.manager.deleteDot(this)}run(){this.fading&&(this.alpha+=this.fadeSpeed*this.fadeDirection,(this.alpha<=-.5||this.alpha>=1.5)&&(this.fadeDirection*=-1)),(this.x<0||this.y>t.height)&&this.delete(),this.x-=this.speed,this.y+=this.speed,this.draw()}}class n{constructor(t){this.dots=new Set,this.numWanted=t,this.initDots()}initDots(){for(let t=0;t<this.numWanted;t++){let t=new a(this);this.dots.add(t)}}scaleDots(t){for(let i of this.dots)i.radius*=t}deleteDot(t){this.dots.delete(t);let i=new a(this);this.dots.add(i)}run(){for(let t of this.dots)t.run()}}window.onload=function(){i=(t=document.getElementById("dotsCanvas")).getContext("2d"),e=h(window.innerWidth/2e3,.1,1),t.width=window.innerWidth,t.height=window.innerHeight;let s=new n(200);console.log(s.dots),function e(){i.clearRect(0,0,t.width,t.height),s.run(),requestAnimationFrame(e)}()};
//# sourceMappingURL=index.ed7b6a85.js.map
